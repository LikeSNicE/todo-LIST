const input=document.querySelector("#input"),btn=document.querySelector(".btn"),result=document.querySelector(".result"),total=document.querySelector(".total");let i=0,tasks=[];tasks=localStorage.tasks?JSON.parse(localStorage.getItem("tasks")):[];let todoImemElems=[];function Task(t){this.description=t}const updateLocal=()=>{localStorage.setItem("tasks",JSON.stringify(tasks))};function animation({elem:t="",animationClass:e="animated",nameOfAnimation:n="fadeIn"}={}){t.classList.add(e,n)}btn.addEventListener("click",()=>{tasks.push(new Task(input.value)),updateLocal(),console.log(tasks),""!==input.value&&(createDeleteElements(input.value),input.value="")});const completeTask=t=>{tasks[t].description};function createDeleteElements(t){i++;const e=document.createElement("li"),n=document.createElement("button");e.style.cursor="pointer",animation({elem:e}),e.classList.add("li"),e.textContent=t,n.classList.add("btn"),n.textContent="Убрать",e.appendChild(n),n.addEventListener("click",t=>{animation({elem:e}),setTimeout(()=>{i--,total.textContent=i,result.removeChild(e),updateLocal()},350)}),e.addEventListener("click",t=>{e.classList.toggle("li-active")}),animation({elem:total}),total.textContent=i,result.appendChild(e)}